--devbgascension

-- Bytecode (Base64):
-- BgNUBU93bmVyB1Zpc2libGUGQWN0aXZlBU1vZGVsA0dldBBIaWRlIE90aGVycyBQZXRzCFNldHRpbmdzDUhpZGUgQWxsIFBldHMMaXNQZXRWaXNpYmxlClNldFZpc2libGULR2V0Um9vdFBhcnQIUG9zaXRpb24HU3Bhd25BdAJvcwVjbG9jawlMYXN0TW92ZWQGQ2lyY2xlDlBldEZvbGxvd1N0eWxlDEdldEF0dHJpYnV0ZQ5TZXRGb2xsb3dTdHlsZQNBZGQEUGV0cwRHVUlEBHRhc2sFZGVmZXIGUmVtb3ZlB0Rlc3Ryb3kMUmVtb3ZlQnlHVUlEBE5hbWUGQ0ZyYW1lCkxvb2tWZWN0b3ILRm9sbG93U3R5bGUKR3JvdXBJbmRleApHcm91cENvdW50BG1hdGgDc2luDFBsYXllck9mZnNldANjb3MHVmVjdG9yMwNuZXcEc3FydAVmbG9vcgNtYXgDbWluBUNyb3NzBFVuaXQISXNNb3ZpbmcGTG9va0F0Bk1vdmVUbwZSZW5kZXIEZ2FtZRFSZXBsaWNhdGVkU3RvcmFnZQpHZXRTZXJ2aWNlB1BsYXllcnMKUnVuU2VydmljZQlXb3Jrc3BhY2UTU2VydmVyU2NyaXB0U2VydmljZQdyZXF1aXJlBlNoYXJlZAlGcmFtZXdvcmsJVXRpbGl0aWVzBWV2ZXJ5B0NsYXNzZXMEWm9uZQZDbGllbnQIU2VydmljZXMJTG9jYWxEYXRhCUNvbnN0YW50cwRNYXRoBFRpbWUFVHlwZXMERGF0YQlQZXRSZW5kZXIJVmlzdWFsUGV0BVV0aWxzClJlbmRlckJhbmQNQ2hhcmFjdGVyVXRpbAZSYW5kb20LTG9jYWxQbGF5ZXINQ3VycmVudENhbWVyYQZVcGRhdGUHQ29ubmVjdAZDdWxsZWQSQ29ubmVjdERhdGFDaGFuZ2VkAAoEAQQAAAAzTQEA1QAAAAArAQIAqQEBAIIBAgD7AgAATQECgAEAAAArAQIAqQEAAIIBAgD7AwEATQIDgwIAAABNAwA7AwAAAIcBAgMrAQIAqQEAAIIBAgD7AQIAvAEBfwQAAACfAQICKwECAKkCAQCCAgIATQIA1QAAAAD7AwMA8QIIAAMAAABNAwHKBgAAAE0CA84FAAAADgICAKkCAACCAgIATQIA1QAAAAAOAgcA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

local v1 = game:GetService("ReplicatedStorage")
local v2 = game:GetService("Players")
game:GetService("RunService")
local v3 = game:GetService("Workspace")
game:GetService("ServerScriptService")
require(v1.Shared.Framework.Utilities.every)
require(v1.Shared.Framework.Classes.Zone)
local u4 = require(v1.Client.Framework.Services.LocalData)
require(v1.Shared.Constants)
require(v1.Shared.Framework.Utilities.Math.Time)
require(v1.Shared.Types)
require(v1.Shared.Data.Pets)
require(v1.Client.PetRender.VisualPet)
local v5 = require(v1.Shared.Utils.RenderBand)
local u6 = require(v1.Shared.Framework.Utilities.CharacterUtil)
Random.new()
local u7 = v2.LocalPlayer
local _ = v3.CurrentCamera
local u8 = {
    ["Visible"] = true,
    ["Pets"] = {}
}
local u9 = v5.new()
local function u12(p10) --[[Anonymous function at line 47]]
    --[[
    Upvalues:
        [1] = u8
        [2] = u9
        [3] = u4
        [4] = u7
    --]]
    if p10.Owner then
        if u8.Visible then
            if u9.Active[p10.Model] then
                local v11 = u4:Get()
                if v11 then
                    if p10.Owner == u7 or not v11.Settings["Hide Others Pets"] then
                        return not (p10.Owner and v11.Settings["Hide All Pets"])
                    else
                        return false
                    end
                else
                    return true
                end
            else
                return false
            end
        else
            return false
        end
    else
        return true
    end
end
function u8.Add(p13, u14) --[[Anonymous function at line 67]]
    --[[
    Upvalues:
        [1] = u6
        [2] = u9
        [3] = u12
    --]]
    if u14.Owner then
        local v15 = u6:GetRootPart(u14.Owner)
        u14:SpawnAt(not v15 and Vector3.new(0, 0, 0) or v15.Position)
        u14.LastMoved = os.clock()
        u14:SetFollowStyle(u14.Owner:GetAttribute("PetFollowStyle") or "Circle")
    end
    u9:Add(u14.Model)
    p13.Pets[u14.GUID] = u14
    task.defer(function() --[[Anonymous function at line 79]]
        --[[
        Upvalues:
            [1] = u14
            [2] = u12
        --]]
        u14:SetVisible((u12(u14)))
    end)
end
function u8.RemoveByGUID(p16, p17) --[[Anonymous function at line 85]]
    --[[
    Upvalues:
        [1] = u9
    --]]
    local v18 = p16.Pets[p17]
    if v18 then
        u9:Remove(v18.Model)
        v18:Destroy()
        p16.Pets[p17] = nil
    end
end
function u8.SetVisible(p19, p20) --[[Anonymous function at line 96]]
    --[[
    Upvalues:
        [1] = u12
    --]]
    p19.Visible = p20
    for _, v21 in p19.Pets do
        if v21.Owner then
            if p20 then
                v21:SetVisible((u12(v21)))
            else
                v21:SetVisible(false)
            end
        end
    end
end
u9.Update:Connect(function(p22, p23) --[[Anonymous function at line 112]]
    --[[
    Upvalues:
        [1] = u8
        [2] = u6
    --]]
    local v24 = u8.Pets[p22.Name]
    if v24 then
        local v25 = v24.Owner
        if v25 then
            local v26 = u6:GetRootPart(v25)
            if v26 then
                local v27 = v26.Position
                local v28 = v26.CFrame.LookVector
                local v29
                if v24.FollowStyle == "Circle" then
                    local v30 = v24.GroupIndex / v24.GroupCount * 3.141592653589793 * 2
                    local v31 = math.sin(v30) * v24.PlayerOffset
                    local v32 = math.cos(v30) * v24.PlayerOffset
                    v29 = v27 + Vector3.new(v31, 0, v32)
                else
                    local v33 = v24.GroupCount
                    local v34 = math.sqrt(v33)
                    local v35 = math.floor(v34)
                    local v36 = math.max(3, v35)
                    local v37 = (v24.GroupIndex - 1) % v36
                    local v38 = (v24.GroupIndex - 1) // v36
                    local v39 = v24.GroupCount - v24.GroupIndex + v37 + 1
                    local v40 = v37 - (math.min(v36, v39) - 1) / 2
                    local v41 = v28:Cross(Vector3.new(0, 1, 0)).Unit
                    v29 = v27 - v28 * (5 + v38 * 5) + v41 * v40 * 5
                end
                if v24.IsMoving then
                    v24:LookAt(v29 + v28)
                else
                    v24:LookAt(v27)
                end
                v24:MoveTo(v29)
                v24:Render(p23)
            end
        else
            return
        end
    else
        return
    end
end)
u9.Culled:Connect(function(p42) --[[Anonymous function at line 156]]
    --[[
    Upvalues:
        [1] = u8
    --]]
    local v43 = u8.Pets[p42.Name]
    if v43 then
        v43:SetVisible(false)
    end
end)
u9.Render:Connect(function(p44) --[[Anonymous function at line 164]]
    --[[
    Upvalues:
        [1] = u8
        [2] = u12
    --]]
    local v45 = u8.Pets[p44.Name]
    if v45 then
        v45:SetVisible((u12(v45)))
    end
end)
u4:ConnectDataChanged("Settings", function() --[[Anonymous function at line 173]]
    --[[
    Upvalues:
        [1] = u8
        [2] = u12
    --]]
    for _, v46 in u8.Pets do
        v46:SetVisible((u12(v46)))
    end
end)
return u8