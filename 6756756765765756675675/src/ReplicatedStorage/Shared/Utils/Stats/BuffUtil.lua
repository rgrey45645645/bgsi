--devbgascension

-- Bytecode (Base64):
-- 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

local v1 = game:GetService("ReplicatedStorage")
require(v1.Shared.Types)
local u2 = require(v1.Shared.Data.Potions)
local u3 = require(v1.Shared.Framework.Utilities.Math.Time)
require(v1.Shared.Constants)
local u4 = require(v1.Shared.Data.Buffs)
local u5 = require(v1.Shared.Framework.Utilities.String.FormatPercent)
local u6 = require(v1.Shared.Framework.Utilities.String.FormatSuffix)
require(v1.Shared.Framework.Utilities.Table.DeepCopy)
local u93 = {
    ["GiveBuff"] = function(_, p7, p8, p9, p10) --[[Function name: GiveBuff, line 19]]
        --[[
        Upvalues:
            [1] = u4
            [2] = u3
        --]]
        if not u4[p8] then
            return
        end
        local v11 = false
        for _, v12 in p7.ActiveBuffs do
            if v12.Expiry.Type == p10.Type and v12.Level == p9 then
                local v13 = v12.Expiry
                v13.Duration = v13.Duration + p10.Duration
                v11 = true
                break
            end
        end
        if not v11 then
            if p10.Type == "Timer" then
                local v14 = p7.ActiveBuffs
                local v15 = {
                    ["Name"] = p8,
                    ["Level"] = p9,
                    ["Expiry"] = {
                        ["Type"] = "Timer",
                        ["Duration"] = u3.now() + p10.Duration
                    }
                }
                table.insert(v14, v15)
                return
            end
            local v16 = p7.ActiveBuffs
            local v17 = {
                ["Name"] = p8,
                ["Level"] = p9,
                ["Expiry"] = table.clone(p10)
            }
            table.insert(v16, v17)
        end
    end,
    ["GivePotion"] = function(_, p18, p19, p20) --[[Function name: GivePotion, line 73]]
        --[[
        Upvalues:
            [1] = u2
            [2] = u93
            [3] = u3
        --]]
        local v21 = u2[p19]
        local v22 = p18.ActivePotions[p19]
        if not v22 then
            v22 = {
                ["Active"] = nil,
                ["Queue"] = {}
            }
            p18.ActivePotions[p19] = v22
        end
        local v23 = v22.Active
        local v24 = v21.Buff.Expiry[p20] or v21.Buff.Expiry[1]
        local v25 = 1
        for _, v26 in p18.MasteryUpgrades do
            if v26.Type == "PotionDuration" then
                v25 = u93:GetValue(v25, v26.Buff)
            end
        end
        local v27 = v24.Duration * v25
        local v28 = math.round(v27)
        if v24.Type == "Uses" then
            u93:GiveBuff(p18, v21.Buff.Name, p20 or 1, v24)
        else
            local v29 = true
            if v23 then
                if v23.Level == p20 then
                    local v30 = v23.Expiry
                    v30.Duration = v30.Duration + v28
                    v29 = false
                else
                    local v31 = v23.Expiry.Duration - u3.now()
                    local v32 = math.max(v31, 0)
                    if v32 > 0 then
                        local v33 = v22.Queue
                        local v34 = {
                            ["Level"] = v23.Level,
                            ["Expiry"] = {
                                ["Type"] = "Timer",
                                ["Duration"] = v32
                            }
                        }
                        table.insert(v33, v34)
                    end
                    v22.Active = nil
                end
            end
            if v29 then
                local v35 = false
                for _, v36 in v22.Queue do
                    if v36.Level == p20 then
                        local v37 = v36.Expiry
                        v37.Duration = v37.Duration + v28
                        v35 = true
                        break
                    end
                end
                if not v35 then
                    local v38 = v22.Queue
                    table.insert(v38, {
                        ["Level"] = p20,
                        ["Expiry"] = {
                            ["Type"] = "Timer",
                            ["Duration"] = v28
                        }
                    })
                end
                table.sort(v22.Queue, function(p39, p40) --[[Anonymous function at line 169]]
                    return p39.Level > p40.Level
                end)
            end
        end
        u93:Update(p18)
    end,
    ["UseBuffs"] = function(_, p41, p42, p43, p44) --[[Function name: UseBuffs, line 186]]
        --[[
        Upvalues:
            [1] = u3
            [2] = u2
            [3] = u4
            [4] = u93
        --]]
        local v45 = u3.now()
        local v46 = {}
        for v47, v48 in p41.ActivePotions do
            local v49 = u4[u2[v47].Buff.Name]
            local v50 = v48.Active
            if v49.Stat == p42 then
                if v50 and v50.Expiry.Duration - v45 > 0 then
                    local v51 = v49.Level[v50.Level].Buff
                    local v52 = {
                        ["Name"] = v47,
                        ["Level"] = v50.Level,
                        ["Buff"] = v51
                    }
                    table.insert(v46, v52)
                end
            end
        end
        for v53 = #p41.ActiveBuffs, 1, -1 do
            local v54 = p41.ActiveBuffs[v53]
            local v55 = u4[v54.Name]
            if v55.Stat == p42 then
                local v56 = false
                if v54.Expiry.Type == "Uses" then
                    local v57 = v54.Expiry.Duration
                    if v57 > 0 then
                        if not p44 then
                            local v58 = v57 - 1
                            v57 = math.max(0, v58)
                            v54.Expiry.Duration = v57
                        end
                        v56 = true
                    end
                    if v57 == 0 and not p44 then
                        table.remove(p41.ActiveBuffs, v53)
                    end
                else
                    v56 = v54.Expiry.Duration - v45 > 0 and true or v56
                end
                if v56 then
                    local v59 = v55.Level[v54.Level].Buff
                    local v60 = {
                        ["Name"] = v54.Name,
                        ["Level"] = v54.Level,
                        ["Buff"] = v59
                    }
                    table.insert(v46, v60)
                end
            end
        end
        for _, v61 in v46 do
            p43(v61.Buff)
        end
        u93:Update(p41)
        return v46
    end,
    ["Update"] = function(_, p62) --[[Function name: Update, line 293]]
        --[[
        Upvalues:
            [1] = u3
        --]]
        if not (next(p62.ActivePotions) or next(p62.ActiveBuffs)) then
            return false
        end
        local v63 = u3.now()
        local v64 = false
        for v65, v66 in p62.ActivePotions do
            if v66.Active then
                if v66.Active.Expiry.Duration - v63 <= 0 then
                    v66.Active = nil
                    v64 = true
                    goto l7
                end
            else
                ::l7::
                if #v66.Queue == 0 then
                    p62.ActivePotions[v65] = nil
                    v64 = true
                else
                    table.sort(v66.Queue, function(p67, p68) --[[Anonymous function at line 324]]
                        return p67.Level > p68.Level
                    end)
                    local v69 = table.remove(v66.Queue, 1)
                    if v69 then
                        local v70 = v69.Expiry
                        v70.Duration = v70.Duration + v63
                        v66.Active = v69
                        v64 = true
                    end
                end
            end
        end
        for v71 = #p62.ActiveBuffs, 1, -1 do
            local v72 = p62.ActiveBuffs[v71]
            if v72.Expiry.Type == "Timer" and v72.Expiry.Duration < v63 then
                table.remove(p62.ActiveBuffs, v71)
                v64 = true
            end
        end
        return v64
    end,
    ["OnJoining"] = function(_, p73) --[[Function name: OnJoining, line 355]]
        --[[
        Upvalues:
            [1] = u3
            [2] = u93
        --]]
        local v74 = u3.now()
        for _, v75 in p73.ActiveBuffs do
            if v75.Expiry.Type == "Timer" then
                local v76 = v75.Expiry
                v76.Duration = v76.Duration + v74
            end
        end
        u93:Update(p73)
    end,
    ["OnLeaving"] = function(_, p77) --[[Function name: OnLeaving, line 370]]
        --[[
        Upvalues:
            [1] = u3
        --]]
        local v78 = u3.now()
        for _, v79 in p77.ActiveBuffs do
            if v79.Expiry.Type == "Timer" then
                local v80 = v79.Expiry
                v80.Duration = v80.Duration - v78
            end
        end
        for _, v81 in p77.ActivePotions do
            local v82 = v81.Active
            if v82 and v82.Expiry.Type == "Timer" then
                v81.Active = nil
                local v83 = v82.Expiry.Duration - u3.now()
                local v84 = math.max(v83, 0)
                if v84 > 0 then
                    local v85 = v81.Queue
                    local v86 = {
                        ["Level"] = v82.Level,
                        ["Expiry"] = {
                            ["Type"] = "Timer",
                            ["Duration"] = v84
                        }
                    }
                    table.insert(v85, v86)
                end
            end
        end
    end,
    ["Format"] = function(_, p87, p88) --[[Function name: Format, line 411]]
        --[[
        Upvalues:
            [1] = u5
            [2] = u6
        --]]
        if p88.Type == "Percent" then
            return string.gsub(p87, "BUFF", string.gsub(u5(p88.Value), "%%", "%%%%"))
        else
            return p88.Type ~= "Value" and "unknown" or string.gsub(p87, "BUFF", "+" .. u6(p88.Value))
        end
    end,
    ["GetValue"] = function(_, p89, p90, p91) --[[Function name: GetValue, line 423]]
        local v92 = p91 or 1
        if p90.Type == "Percent" then
            return p89 + p90.Value / 100 * v92
        end
        if p90.Type == "Value" then
            p89 = p89 + p90.Value * v92
        end
        return p89
    end
}
return u93