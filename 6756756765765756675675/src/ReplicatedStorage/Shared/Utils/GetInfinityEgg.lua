--devbgascension

-- Bytecode (Base64):
-- BgNmAAZzdHJpbmcDc3ViBSUqOiUqBmZvcm1hdAtnZW5lcmF0ZUtleQtMYXlvdXRPcmRlcgV0YWJsZQVjbG9uZQpFZ2dzT3BlbmVkBUNvaW5zBU9yZGVyEEluZmluaXR5RWdnSW5kZXgIQ3VycmVuY3kMSW5maW5pdHkgRWdnCVByb2R1Y3RJZARDb3N0BFR5cGUJR2V0QW1vdW50BG1hdGgDbWF4Bmluc2VydARzb3J0BFBldHMCSWQIaW5maW5pdHkFQnVmZnMFVGVhbXMMVGVhbUVxdWlwcGVkCEVuY2hhbnRzCEdldFZhbHVlA0tleQZDaGFuY2UESXRlbQZDb21tb24GVW5pcXVlBFJhcmUERXBpYwlMZWdlbmRhcnkMU2VjcmV0UmFyaXR5BlNlY3JldAtSYXJpdHlPcmRlcgRQb29sA1BldAROYW1lBlJhcml0eQVmbG9vcgVyb3VuZAhSYXJpdGllcwdDaGFuY2VzBkFtb3VudARjZWlsC3VwZGF0ZUNhY2hlDkdldEluZmluaXR5RWdnEkluZmluaXR5RWdnQ2hhbmdlZARGaXJlB0dldERhdGEHcmVjYWNoZQRnYW1lEVJlcGxpY2F0ZWRTdG9yYWdlCkdldFNlcnZpY2UKUnVuU2VydmljZQdQbGF5ZXJzE1NlcnZlclNjcmlwdFNlcnZpY2URQ29sbGVjdGlvblNlcnZpY2UHcmVxdWlyZQZTaGFyZWQFVHlwZXMERGF0YQRFZ2dzBVV0aWxzBVN0YXRzCEl0ZW1VdGlsCEJ1aWxkZXJzD0xvb3RQb29sQnVpbGRlcglGcmFtZXdvcmsJVXRpbGl0aWVzBE1hdGgVR2V0UmFuZG9tV2VpZ2h0ZWRJdGVtCUNvbnN0YW50cwhCdWZmVXRpbApUaW1lZEV2ZW50BVJpZnRzBWV2ZXJ5BFRpbWUOSXNUcmFkaW5nUGxhemEGV29ybGRzB05ldHdvcmsIQmluZGFibGUDRWdnCUdldFRhZ2dlZAhJc0NsaWVudAZDbGllbnQIU2VydmljZXMJTG9jYWxEYXRhC0xvY2FsUGxheWVyEkNvbm5lY3REYXRhQ2hhbmdlZAhJc1NlcnZlcgZTZXJ2ZXILRGF0YVNlcnZpY2UOUGxheWVyUmVtb3ZpbmcHQ29ubmVjdAAIDQIAAAAAGW8CAABSAwAAxgQA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

local v1 = game:GetService("ReplicatedStorage")
local v2 = game:GetService("RunService")
local v3 = game:GetService("Players")
local v4 = game:GetService("ServerScriptService")
local v5 = game:GetService("CollectionService")
require(v1.Shared.Types)
local u6 = require(v1.Shared.Data.Eggs)
local u7 = require(v1.Shared.Utils.Stats.ItemUtil)
require(v1.Shared.Data.Builders.LootPoolBuilder)
require(v1.Shared.Data.Currency)
require(v1.Shared.Framework.Utilities.Math.GetRandomWeightedItem)
local u8 = require(v1.Shared.Data.Pets)
local u9 = require(v1.Shared.Constants)
local u10 = require(v1.Shared.Data.Enchants)
local u11 = require(v1.Shared.Utils.Stats.BuffUtil)
require(v1.Shared.Utils.TimedEvent)
require(v1.Shared.Data.Rifts)
require(v1.Shared.Framework.Utilities.every)
require(v1.Shared.Framework.Utilities.Math.Time)
require(v1.Shared.Utils.IsTradingPlaza)
local u12 = require(v1.Shared.Data.Worlds)
local u13 = require(v1.Shared.Framework.Network.Bindable)
local u14 = {}
local u15 = {}
local function u53(p16, p17) --[[Anonymous function at line 51]]
    --[[
    Upvalues:
        [1] = u12
        [2] = u15
        [3] = u6
        [4] = u7
        [5] = u10
        [6] = u11
        [7] = u14
        [8] = u9
        [9] = u8
    --]]
    table.clone(p17.EggsOpened)
    local v18 = {}
    local v19 = "Coins"
    for _, v20 in u12 do
        if v20.Order == p17.InfinityEggIndex then
            v19 = v20.Currency
            break
        end
    end
    local v21 = 0
    for v22 in u15 do
        if v22 ~= "Infinity Egg" then
            local v23 = u6[v22]
            if v23 then
                if not v23.ProductId then
                    if v23.Cost.Type == "Currency" and v23.Cost.Currency == v19 then
                        local v24 = u7
                        local v25 = v23.Cost
                        v21 = math.max(v21, v24:GetAmount(v25))
                        table.insert(v18, v22)
                    end
                end
            end
        end
    end
    table.sort(v18, function(p26, p27) --[[Anonymous function at line 79]]
        --[[
        Upvalues:
            [1] = u6
        --]]
        return u6[p26].LayoutOrder < u6[p27].LayoutOrder
    end)
    local v28 = {}
    local v29 = 0
    for _, v30 in p17.Pets do
        v28[v30.Id] = v30
    end
    local v31 = u10.infinity.Buffs[1]
    for _, v32 in p17.Teams[p17.TeamEquipped].Pets do
        local v33 = v28[v32]
        if v33 and v33.Enchants then
            for _, v34 in v33.Enchants do
                if v34.Id == "infinity" then
                    v29 = u11:GetValue(v29, v31)
                    break
                end
            end
        end
    end
    local v35 = v29
    local v36 = ""
    for _, v37 in v18 do
        v36 = v36 .. string.sub(v37, 1, 3)
    end
    local v38 = ("%*:%*"):format(v36, v29)
    if not u14[p16] or u14[p16].Key ~= v38 then
        local v39 = {
            {
                ["Chance"] = 60,
                ["Item"] = "Common"
            },
            {
                ["Chance"] = 20,
                ["Item"] = "Unique"
            },
            {
                ["Chance"] = 13,
                ["Item"] = "Rare"
            },
            {
                ["Chance"] = 6.5,
                ["Item"] = "Epic"
            },
            {
                ["Chance"] = 0.5,
                ["Item"] = "Legendary"
            },
            {
                ["Chance"] = u9.SecretRarity,
                ["Item"] = "Secret"
            }
        }
        local v40 = {}
        for v41 in u9.RarityOrder do
            v40[v41] = {}
        end
        for _, v42 in v18 do
            for _, v43 in u6[v42].Pool do
                if v43.Item.Type == "Pet" then
                    local v44 = v40[u8[v43.Item.Name].Rarity]
                    local v45 = {
                        ["Chance"] = v43.Chance,
                        ["Item"] = v43.Item
                    }
                    table.insert(v44, v45)
                end
            end
        end
        local v46 = v21 / 2
        local v47 = math.floor(v46)
        local v48 = math.max(1, v47) * (1 - v35)
        local v49 = math.round(v48)
        local v50 = math.max(1, v49)
        local v51 = u14
        local v52 = {
            ["Key"] = v38,
            ["Rarities"] = v39,
            ["Chances"] = v40,
            ["Cost"] = {
                ["Type"] = "Currency",
                ["Currency"] = v19,
                ["Amount"] = math.ceil(v50)
            }
        }
        v51[p16] = v52
    end
end
local function v55(p54) --[[Anonymous function at line 155]]
    --[[
    Upvalues:
        [1] = u14
    --]]
    return u14[p54]
end
for _, v56 in v5:GetTagged("Egg") do
    u15[v56.Name] = true
end
local v57 = {
    "EggsOpened",
    "Pets",
    "Teams",
    "TeamEquipped",
    "InfinityEggIndex"
}
if not v2:IsClient() then
    if v2:IsServer() then
        local u58 = require(v4.Server.Framework.Services.DataService)
        local function v61(p59) --[[Anonymous function at line 177]]
            --[[
            Upvalues:
                [1] = u58
                [2] = u53
            --]]
            local v60 = u58:GetData(p59)
            if v60 then
                u53(p59, v60)
            end
        end
        for _, v62 in v57 do
            u58:ConnectDataChanged(v62, v61)
        end
        v3.PlayerRemoving:Connect(function(p63) --[[Anonymous function at line 188]]
            --[[
            Upvalues:
                [1] = u14
            --]]
            u14[p63] = nil
        end)
    end
    return v55
end
local v64 = require(v1.Client.Framework.Services.LocalData)
local u65 = v3.LocalPlayer
v64:ConnectDataChanged(v57, function(p66) --[[Anonymous function at line 170]]
    --[[
    Upvalues:
        [1] = u53
        [2] = u65
        [3] = u13
    --]]
    u53(u65, p66)
    u13:Fire("InfinityEggChanged")
end)
return v55